<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="GhostBusters ‚Äî AI-Powered Anti-Money Laundering Investigation Platform">
    <title>GhostBusters AML Platform</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/d3@7.8.5/dist/d3.min.js"></script>
</head>

<body>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     LANDING PAGE
     ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="page-landing" class="landing-page">
        <canvas class="particle-canvas" id="particle-canvas"></canvas>
        <div class="landing-content">
            <div class="landing-badge">
                <span class="pulse"></span>
                AI-Powered Investigation Platform
            </div>

            <h1 class="landing-title">
                <span class="ghost-emoji">üëª</span>
                <span class="gradient-text">GhostBusters</span>
                <br>AML Platform
            </h1>

            <p class="landing-subtitle">
                Cross-channel mule account detection powered by Graph Neural Networks
                and agentic AI. Analyze 289K+ accounts across 6.2M+ transaction edges in real time.
            </p>

            <div class="landing-stats">
                <div class="landing-stat">
                    <span class="stat-number" data-target="289375">0</span>
                    <span class="stat-label">Accounts Monitored</span>
                </div>
                <div class="landing-stat">
                    <span class="stat-number" data-target="9">0</span>
                    <span class="stat-label">AI Models</span>
                </div>
                <div class="landing-stat">
                    <span class="stat-number" data-target="100" data-suffix="%">0</span>
                    <span class="stat-label">PR-AUC</span>
                </div>
                <div class="landing-stat">
                    <span class="stat-number" data-target="20">0</span>
                    <span class="stat-label">Active Alerts</span>
                </div>
            </div>

            <button class="landing-cta" onclick="enterDashboard()">
                Enter Dashboard
                <span class="arrow">‚Üí</span>
            </button>

            <div class="landing-features">
                <div class="landing-feature-card">
                    <span class="feature-icon">ü§ñ</span>
                    <h3>Agentic AI Investigator</h3>
                    <p>Autonomous investigation agent powered by local LLM. Reasons through evidence and drafts
                        regulatory reports.</p>
                </div>
                <div class="landing-feature-card">
                    <span class="feature-icon">üï∏Ô∏è</span>
                    <h3>Graph Forensics</h3>
                    <p>Trace money flows, detect mule rings, and visualize criminal networks with interactive D3.js
                        force graphs.</p>
                </div>
                <div class="landing-feature-card">
                    <span class="feature-icon">‚ö°</span>
                    <h3>Real-Time Monitoring</h3>
                    <p>Stream transactions in real-time with server-sent events. Instant risk scoring and anomaly
                        detection.</p>
                </div>
            </div>
        </div>
    </div>


    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     MAIN DASHBOARD (hidden until "Enter Dashboard")
     ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="app-shell" class="app-container" style="display:none;">

        <!-- ‚îÄ‚îÄ Sidebar ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">
                    <div class="logo-icon">üëª</div>
                    <div>
                        <h1>GhostBusters</h1>
                        <p>AML Platform</p>
                    </div>
                </div>
            </div>

            <nav class="sidebar-nav">
                <div class="nav-item active" data-page="dashboard">
                    <span class="nav-icon">üìä</span>
                    Command Center
                </div>
                <div class="nav-item" data-page="alerts">
                    <span class="nav-icon">üö®</span>
                    Alert Queue
                    <span class="nav-badge" id="alert-badge">0</span>
                </div>
                <div class="nav-item" data-page="investigate">
                    <span class="nav-icon">üîç</span>
                    Investigation
                </div>
                <div class="nav-item" data-page="models">
                    <span class="nav-icon">üß†</span>
                    Model Analytics
                </div>
                <div class="nav-item" data-page="streaming">
                    <span class="nav-icon">‚ö°</span>
                    Streaming Demo
                </div>
            </nav>

            <div class="sidebar-footer">
                <span class="status-dot"></span>
                Ollama qwen2.5 ¬∑ Active
            </div>
        </aside>

        <!-- ‚îÄ‚îÄ Main Content ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
        <main class="main-content">

            <!-- Page 1: Command Center -->
            <section id="page-dashboard" class="page" style="display:none;">
                <div class="page-header">
                    <h2>Command Center</h2>
                    <p>Real-time overview of the Cross-Channel Mule Detection System</p>
                </div>
                <div class="kpi-grid" id="kpi-grid"></div>
                <div class="grid-2-1">
                    <div class="card">
                        <div class="card-header">
                            <h3>üìà Channel Activity</h3>
                        </div>
                        <div class="chart-container"><canvas id="chart-channels"></canvas></div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <h3>üéØ Risk Distribution</h3>
                        </div>
                        <div class="chart-container"><canvas id="chart-risk"></canvas></div>
                    </div>
                </div>
                <div class="card">
                    <div class="card-header">
                        <h3>üî¥ Live Transaction Feed</h3>
                        <span class="badge badge-info" id="feed-status">Connecting...</span>
                    </div>
                    <div class="live-feed" id="live-feed"></div>
                </div>
            </section>

            <!-- Page 2: Alert Queue -->
            <section id="page-alerts" class="page" style="display:none;">
                <div class="page-header">
                    <h2>Alert Queue</h2>
                    <p>Flagged accounts requiring investigation</p>
                </div>
                <div class="search-bar">
                    <input class="search-input" type="text" id="alert-search"
                        placeholder="Search account ID or risk level...">
                    <select class="filter-select" id="alert-filter">
                        <option value="all">All Risk Levels</option>
                        <option value="HIGH">High</option>
                        <option value="MEDIUM">Medium</option>
                        <option value="LOW">Low</option>
                    </select>
                </div>
                <div class="card" style="padding:0; overflow:hidden;">
                    <div style="overflow-x:auto;">
                        <table class="data-table" id="alert-table">
                            <thead>
                                <tr>
                                    <th>Account ID</th>
                                    <th>Risk</th>
                                    <th>SAR Status</th>
                                    <th>Top Reason</th>
                                    <th>Confidence</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody id="alert-tbody"></tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Page 3: Investigation (dynamic) -->
            <section id="page-investigate" class="page" style="display:none;"></section>

            <!-- Page 4: Model Analytics -->
            <section id="page-models" class="page" style="display:none;">
                <div class="page-header">
                    <h2>Model Analytics</h2>
                    <p>Comparative performance of 9 trained models (5 GNNs + 4 baselines)</p>
                </div>
                <div class="card" style="margin-bottom:28px;">
                    <div class="card-header">
                        <h3>üèÜ PR-AUC Performance</h3>
                    </div>
                    <div class="prauc-list" id="prauc-bars"></div>
                </div>
                <div class="grid-2">
                    <div class="card">
                        <div class="card-header">
                            <h3>üìà Training: PR-AUC</h3>
                        </div>
                        <div class="chart-container"><canvas id="chart-prauc-history"></canvas></div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <h3>üìâ Training: Loss</h3>
                        </div>
                        <div class="chart-container"><canvas id="chart-loss-history"></canvas></div>
                    </div>
                </div>
                <div class="grid-2">
                    <div class="card">
                        <div class="card-header">
                            <h3>üìã Detailed Metrics</h3>
                        </div>
                        <div style="overflow-x:auto;">
                            <table class="data-table" id="metrics-table">
                                <thead>
                                    <tr>
                                        <th>Model</th>
                                        <th>Type</th>
                                        <th>PR-AUC</th>
                                        <th>ROC-AUC</th>
                                        <th>F1 (SAR)</th>
                                        <th>Recall</th>
                                    </tr>
                                </thead>
                                <tbody id="metrics-tbody"></tbody>
                            </table>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <h3>‚öôÔ∏è Training Config</h3>
                        </div>
                        <div id="config-display"></div>
                    </div>
                </div>
            </section>

            <!-- Page 5: Streaming Demo -->
            <section id="page-streaming" class="page" style="display:none;">
                <div class="page-header">
                    <h2>Streaming Demo</h2>
                    <p>Real-time transaction risk scoring via Server-Sent Events</p>
                </div>
                <div class="stream-stats" id="stream-stats">
                    <div class="stream-stat">
                        <div class="stat-value" id="st-total">0</div>
                        <div class="stat-label">Processed</div>
                    </div>
                    <div class="stream-stat">
                        <div class="stat-value" id="st-flagged">0</div>
                        <div class="stat-label">Flagged</div>
                    </div>
                    <div class="stream-stat">
                        <div class="stat-value" id="st-avg">0.00</div>
                        <div class="stat-label">Avg Score</div>
                    </div>
                    <div class="stream-stat">
                        <div class="stat-value" id="st-speed">0</div>
                        <div class="stat-label">txn/s</div>
                    </div>
                </div>
                <div class="grid-2">
                    <div class="card">
                        <div class="card-header">
                            <h3>üìä Risk Score Distribution</h3>
                        </div>
                        <div class="chart-container"><canvas id="chart-stream-hist"></canvas></div>
                    </div>
                    <div class="card"
                        style="display:flex; flex-direction:column; align-items:center; justify-content:center;">
                        <div class="card-header" style="width:100;">
                            <h3>üéØ Latest Score</h3>
                        </div>
                        <div class="score-gauge" id="stream-gauge">
                            <div class="gauge-value" id="gauge-value">‚Äî</div>
                        </div>
                        <div style="margin-top:16px; text-align:center;">
                            <button class="btn btn-primary" id="stream-toggle" onclick="toggleStream()">‚ñ∂ Start
                                Stream</button>
                        </div>
                    </div>
                </div>
                <div class="card" style="margin-top: 20px;">
                    <div class="card-header">
                        <h3>üìú Transaction Log</h3>
                        <span class="badge badge-info" id="stream-status">Idle</span>
                    </div>
                    <div class="live-feed" id="stream-feed" style="max-height:250px;"></div>
                </div>
            </section>

        </main>
    </div>

    <script src="/static/js/app.js"></script>
</body>

</html>